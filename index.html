<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>To 张婧祎</title>
  <link rel="shortcut icon" href="favicon.png">
  <link href="static/css/section1.css" rel="stylesheet">
  <link href="static/css/section2.css" rel="stylesheet">
  <link href="static/css/section3.css" rel="stylesheet">
  <link href="static/css/section4.css" rel="stylesheet">
  <link href="static/css/section5.css" rel="stylesheet">
  <link href="static/css/jquery.fullPage.min.css" rel="stylesheet">
</head>

<body>
  <audio autoplay="autoplay" hidden="true" loop="loop" preload="auto" src="music/love.aac">
    你的浏览器版本太低，不支持audio标签
  </audio>

  <!-- <audio loop="loop" src="music/love.aac" autoplay="autoplay" preload="auto">
    Your browser does not support the audio element.
  </audio> -->
  <div id="fullPage">
    <div class="section">
      <div id="app">
        <div class="quotes verticalcenter">
          <p class="q1">有个人慢慢地走进了你的生命里</p>
          <p class="q2">从此，他慢慢地希望出现在你的每年每天</p>
        </div>
        <div class="main-section">
          <div class="heart"></div>
          <div id="top">HAPPY</div>
          <div class="love">BIRTH</div>
          <div id="bottom">DAY</div>
        </div>
      </div>
    </div>

    <div class="section">
      <div id="content" class="content"></div>
    </div>
    <div class="section section4">
      <div class="paper">
        <div class="lines">
          <div class="text" spellcheck="false">
            致26岁的婧祎 <br /><br />
            <span class='sentence sentence1'></span>
            <br />
            <span class='sentence sentence2'></span>
            <br />
            <span class='sentence sentence3'></span>
            <br />
            <span class='sentence sentence4'></span>
            <br />
            <span class='sentence sentence5'></span>
            <br />
            <span class='sentence sentence6'></span>
            <br />
            <span class='sentence sentence7'></span>
            <br />
            <span class='sentence sentence8'></span>
            <br />
            <span class='sentence sentence9'></span>
            <br />
            <span class='sentence sentence10'></span>
          </div>
        </div>
        <div class="holes hole-top"></div>
        <div class="holes hole-middle"></div>
        <div class="holes hole-bottom"></div>
      </div>
    </div>
    <div class="section section5">
      <div id="wrapper">
        <div id="candle-1" class="candle small">
          <div class="eye"></div>
          <div class="eye"></div>
          <div class="flame"></div>
        </div>
        <div class="flame-halo"></div>
        <div id="candle-2" class="candle">
          <div class="eye"></div>
          <div class="eye"></div>
          <div class="mouth"></div>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.bootcss.com/jquery/3.3.0/jquery.min.js"></script>
  <script src="./static/js/TweenMax.min.js"></script>
  <script src="./static/js/jquery.fullPage.min.js"></script>
  <script src='./static/js/jquery.lettering.js'></script>
  <script src="./static/js/section2.js"></script>
  <script src="./static/js/typed.min.js"></script>


  <script type="text/javascript">
    $(document).ready(function () {
      var t1 = new TimelineMax({
        repeat: -1
      });

      $('#fullPage').fullpage({
        afterLoad: function (link, index) {
          switch (index) {

            case 3:
              if (($(".sentence1").html() === '') || ($(".sentence10").html() !== '')) {

                $(".sentence").empty();
                $('.typed-cursor').remove();

                $(".sentence1").typed({
                  strings: ["我们断断续续分开了7年", "我希望陪你一路相伴下去<(￣︶￣)>"],
                  typeSpeed: 300,
                  backSpeed: 100,
                  cursorChar: "♡",
                  loop: false,
                  callback: function () {
                    $(".sentence2").typed({
                      strings: ["抱歉最初伤了你的心", "爱情会有曲折，可是如今是真的真的很在乎很在乎你"],
                      startDelay: 1000,
                      typeSpeed: 300,
                      backSpeed: 100,
                      cursorChar: "♡",
                      callback: function () {
                        $(".sentence3").typed({
                          strings: ["你平时是有些贪玩", "你就是那个人，我想陪你简单而美好的han你一直走"],
                          startDelay: 1000,
                          typeSpeed: 300,
                          backSpeed: 100,
                          cursorChar: "♡",
                          callback: function () {
                            $(".sentence4").typed({
                              strings: ["咦，怎么越写越像情书啦", "张婧祎小朋友，脸红了木有╮(￣▽￣)╭那我继续啦"],
                              startDelay: 1000,
                              typeSpeed: 300,
                              backSpeed: 100,
                              cursorChar: "♡",
                              callback: function () {
                                $(".sentence5").typed({
                                  strings: ["未来一年我们都将面对很多机遇与挑战",
                                    "和你一起，我是灰常有信心的", "也希望自己能在你心中建立更强大的信任感",
                                    "毕竟，我无法想象没有你的日子(￣0 ￣)y"
                                  ],
                                  startDelay: 1000,
                                  typeSpeed: 300,
                                  backSpeed: 100,
                                  cursorChar: "♡",
                                  callback: function () {
                                    $(".sentence6").typed({
                                      strings: ["一般而言第六行我要开始词穷了",
                                        "但是，这次这个页面只有10行",
                                        "所以，接下来我帮你许几个愿望吧 (=￣ω￣=)"
                                      ],
                                      startDelay: 1000,
                                      typeSpeed: 300,
                                      backSpeed: 100,
                                      cursorChar: "♡",
                                      callback: function () {
                                        $(".sentence7").typed({
                                          strings: ["希望可以一直陪你出游旅行",
                                            "希望可以一直陪你购物逛街",
                                            "希望可以一直陪你走走停停"
                                          ],
                                          startDelay: 1000,
                                          typeSpeed: 300,
                                          backSpeed: 100,
                                          cursorChar: "♡",
                                          callback: function () {
                                            $(".sentence8").typed({
                                              strings: [
                                                "希望可以一直给你做好吃的",
                                                "希望可以一直给你踏实日子",
                                                "希望可以一直给你美好生活"
                                              ],
                                              startDelay: 1000,
                                              typeSpeed: 300,
                                              backSpeed: 100,
                                              cursorChar: "♡",
                                              callback: function () {
                                                $(
                                                  ".sentence9"
                                                ).typed({
                                                  strings: [
                                                    "前路有起有伏",
                                                    "征程且短且长",
                                                    "有你同行尽美尽善"
                                                  ],
                                                  startDelay: 1000,
                                                  typeSpeed: 300,
                                                  backSpeed: 100,
                                                  cursorChar: "♡",
                                                  callback: function () {
                                                    $
                                                      (
                                                        ".sentence10"
                                                      )
                                                      .typed({
                                                        strings: [
                                                          "翻页就吹蜡烛啦",
                                                          "不许反悔啦",
                                                          "就酱，下次精彩内容请期待明年生日~(￣▽￣)~*"
                                                        ],
                                                        startDelay: 1000,
                                                        typeSpeed: 300,
                                                        backSpeed: 100,
                                                        cursorChar: "♡",
                                                      });
                                                  }
                                                });
                                              }
                                            });
                                          }
                                        });
                                      }
                                    });
                                  }
                                });
                              }
                            });
                          }
                        });
                      }
                    });
                  }
                });
              }

              break;

            case 4:

              c1 = $('#candle-1'),
                c2 = $('#candle-2'),
                f = c1.find('.flame'),
                m = c2.find('.mouth'),

                fTween = TweenMax.to(f, 0.3, {
                  width: 27,
                  backgroundColor: 'yellow',
                  repeat: -1,
                  yoyo: true
                });

              if ((t1.progress() > 0) && (t1.progress() < 1)) {
                t1.progress(0);
              } else {
                t1.add(
                    [
                      TweenMax.to(c2, 0.1, {
                        scale: 1.2,
                        transformOrigin: "center bottom"
                      }),
                      TweenMax.to(m, 0.7, {
                        scale: 5,
                        transformOrigin: "center center",
                        force3D: false
                      })
                    ]
                  ).add(
                    [
                      TweenMax.to(c2, 0.7, {
                        scale: 1,
                        transformOrigin: "center bottom"
                      }),
                      TweenMax.to(m, 0.7, {
                        scale: 1.1,
                        transformOrigin: "center center",
                        force3D: false
                      })
                    ]
                  ).to(m, 1, {
                    width: 100,
                    borderRadius: 0,
                    x: -300,
                    autoAlpha: 0
                  }, 1.2)
                  .to(c1, 0.3, {
                    x: -3,
                    repeat: 4,
                    yoyo: true
                  }, 1.3)
                  .to([f, '.flame-halo'], 0.1, {
                    autoAlpha: 0,
                    scale: 0.5
                  }, 1.3)
                  .add([
                    TweenMax.to(c1, 1, {
                      height: "-=20",
                      scaleX: 1.2,
                      backgroundColor: "#FFCCCC",
                      transformOrigin: "center center"
                    }),
                    TweenMax.to(c1.find('.eye'), 1, {
                      height: "-=5"
                    }),
                  ])
                  .to(c1, 0.2, {
                    x: "+=20",
                    repeat: 4,
                    yoyo: true
                  }).add(
                    [
                      TweenMax.to(f, 0.2, {
                        autoAlpha: 1,
                        scale: 1.2
                      })

                    ]
                  ).add(
                    [
                      TweenMax.to(c1, 0.5, {
                        height: "+=20",
                        scaleX: 1,
                        x: "-=20",
                      })

                    ]
                  )
              }
              break;

            default:
              break;
          }
        },

        onLeave: function (link, index) {
          switch (index) {

            default:
              break;
          }
        }
      });

      $('.q1').delay(1000).fadeIn(300).delay(2000).fadeOut(300, function () {
        $('.q2').delay(1000).fadeIn(300).delay(2500).fadeOut(300, function () {
          $('.quotes').fadeOut(300);
          $('.main-section').delay(1000).fadeIn(300, function () {

          });
        });
      });
    });

    // $('audio')[0].volume = 0.8;

    $("#top").lettering();
    $("#bottom").lettering();
  </script>
</body>

</html>